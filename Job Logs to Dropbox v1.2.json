{"blocks":[{"id":"05B47C43-03E3-4BDB-B553-4E983B460A30","type":"StartBlock","x":100,"y":100,"disabled":false,"name":"Start","displayName":"Start","comment":"","childId":"7917A2D0-C46C-4606-9BA3-091207904363","inputs":[{"id":"run_mode","value":"scheduled","type":"select","structure":{}},{"id":"schedule_start","value":"2021-05-10 17:06:50","type":"date","structure":{}},{"id":"schedule_stoptime","value":null,"type":"date","structure":{}},{"id":"schedule_interval","value":"604800","type":"select","structure":{}},{"id":"schedule_timezone","value":"Europe/Paris","type":"select","structure":{}}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}]},{"id":"D33711A3-CFCC-46AB-A7E5-46CAB97F485F","type":"EndpointBlock","x":73,"y":905.0000915527344,"disabled":false,"name":"listAccounts","displayName":"SaaS admin - List Accounts","comment":"","childId":"7B077BB7-43CA-435A-87DC-9B2192900EC3","inputs":[],"settings":[{"id":"datasource","value":null,"type":"select","structure":[]},{"id":"maxitemcount","value":"","type":"string","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"loopBlockId":"0838949C-5A94-496C-B32E-7DBEA203DC5A","datasourcetype_guid":"0d878726-27c0-11ea-921c-022e6b5ea1e2","endpoint_guid":"0eb1a8fa-27c0-11ea-921c-022e6b5ea1e2","endpoint_role":"list"},{"id":"0838949C-5A94-496C-B32E-7DBEA203DC5A","type":"EndpointBlock","x":236,"y":304,"disabled":false,"name":"listBlendsInAccount","displayName":"SaaS admin - List Blends In Account","comment":"","childId":"CB3D077E-049B-47AC-9F01-75E9C1EFD5F9","inputs":[{"id":"12bac0b7-27c0-11ea-921c-022e6b5ea1e2","value":"{$.listAccounts.item.guid}","type":"string","structure":[]}],"settings":[{"id":"datasource","value":null,"type":"select","structure":[]},{"id":"maxitemcount","value":"","type":"string","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":true}],"loopBlockId":null,"datasourcetype_guid":"0d878726-27c0-11ea-921c-022e6b5ea1e2","endpoint_guid":"0eaff05a-27c0-11ea-921c-022e6b5ea1e2","endpoint_role":"list"},{"id":"5D3EDDBC-FDD4-4DEA-A174-9713A705A8C1","type":"IfElseBlock","x":345,"y":1239.9999694824219,"disabled":false,"name":"condition","displayName":"Condition","comment":"Check if first iteration (value = 0)","childId":"DB68E9B1-B46B-4AFA-AD2D-8BC4E9A41E11","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{$.Iteration}","operator":"=","input2":"0"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"childTrueId":"C4D89F05-66A3-4F08-8E5C-CC1632B67D9C","childFalseId":null},{"id":"4CB9A31A-A64C-4B86-AD21-94069ED3DA88","type":"VariableBlock","x":80,"y":178.99998474121094,"disabled":false,"name":"Iteration","displayName":"Variable - Iteration","comment":"Controls loop for Blends in Account","childId":"40A21FBD-540D-432B-971E-20F5083AC28E","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"variableGuid":"FEE46D3F-874B-4D75-ADAE-AFA4AB1A3C2F","operations":[{"key":"4DABB4CD-7FEA-429D-A0A1-0FE60EBA2CE8","id":"set_value","name":"Set value of { variable }","value":"0"}]},{"id":"87B06C01-0EEC-4DCB-B6D3-906ACACE7DE3","type":"VariableBlock","x":490,"y":829,"disabled":false,"name":"Iteration","displayName":"Variable - Iteration","comment":"Sets variable to 1","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"variableGuid":"FEE46D3F-874B-4D75-ADAE-AFA4AB1A3C2F","operations":[{"key":"3390B415-4389-4B4A-B017-C43CCB0FAF0B","id":"set_value","name":"Set value of { variable }","value":"1"}]},{"id":"F8C6CCD6-AB97-4AD0-81E6-BF9BBB18B379","type":"IfElseBlock","x":344,"y":4900.999847412109,"disabled":false,"name":"condition2","displayName":"Condition 2","comment":"Check if first iteration (value = 0)","childId":"8532BFD3-723E-456F-BDC6-C98DDFEC083B","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{$.Iteration4}","operator":"=","input2":"0"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"childTrueId":"A770CDEC-68F3-46B3-A0BF-A530FC7DC832","childFalseId":null},{"id":"2B170424-1BBE-4EDE-B62E-EE903A618CE7","type":"VariableBlock","x":594,"y":1689,"disabled":false,"name":"Iteration4","displayName":"Variable - Iteration4","comment":"Sets variable to 1","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"variableGuid":"464D3988-E13E-460C-BB2A-3EEFD47C1DBB","operations":[{"key":"6875B6C4-3816-4E21-9007-86E748ADD7CA","id":"set_value","name":"Set value of { variable }","value":"1"}]},{"id":"C0B9B61D-5C18-48B7-81F1-8AA06AFDAA5C","type":"EndpointBlock","x":234,"y":3579,"disabled":false,"name":"listDatasourcesInAccount","displayName":"SaaS admin - List Datasources In Account","comment":"","childId":"7EF34188-ADFB-4342-BE02-6995C18FEF6C","inputs":[{"id":"736b24e0-99dc-11ea-857a-c7e57c187193","value":"{$.listAccounts.item.guid}","type":"string","structure":[]}],"settings":[{"id":"datasource","value":null,"type":"select","structure":[]},{"id":"maxitemcount","value":"","type":"string","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":true}],"loopBlockId":null,"datasourcetype_guid":"0d878726-27c0-11ea-921c-022e6b5ea1e2","endpoint_guid":"73632790-99dc-11ea-bacd-5d0a879583b0","endpoint_role":"list"},{"id":"32734D1D-1056-4664-9772-36D072BE2D57","type":"TransformListBlock","x":366,"y":2762,"disabled":false,"name":"transformList","displayName":"Transform List","comment":"Exclude error object from the List Runs output","childId":null,"inputs":[{"id":"list","value":"{$.listFinishedRunsIncrementally}","type":"string","structure":[]},{"id":"mapping","value":[{"key":"guid","value":"{$.transformList.item.guid}"},{"key":"stoptime","value":"{$.transformList.item.stoptime}"},{"key":"starttime","value":"{$.transformList.item.starttime}"},{"key":"created_at","value":"{$.transformList.item.created_at}"},{"key":"updated_at","value":"{$.transformList.item.updated_at}"},{"key":"schedule_starttime","value":"{$.transformList.item.schedule_starttime}"},{"key":"context","value":"{$.transformList.item.context}"},{"key":"status","value":"{$.transformList.item.status}"},{"key":"blendid","value":"{$.transformList3.item.guid}"}],"type":"object","mode":"keyValue","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"loopBlockId":"EE369F9E-8B7A-4096-B6A5-2587E8AACE0B"},{"id":"EE369F9E-8B7A-4096-B6A5-2587E8AACE0B","type":"IfElseBlock","x":332,"y":3651.0000915527344,"disabled":false,"name":"condition3","displayName":"Condition 3","comment":"Check if first iteration (value = 0)","childId":"886CE51A-2EC4-48C7-8E04-8CE3A82338DF","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{$.Iteration2}","operator":"=","input2":"0"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"childTrueId":"6A62C91F-61B5-42AE-8190-632501B0AAB1","childFalseId":null},{"id":"40A21FBD-540D-432B-971E-20F5083AC28E","type":"VariableBlock","x":119.00781726837158,"y":278.9244842529297,"disabled":false,"name":"Iteration2","displayName":"Variable - Iteration2","comment":"Controls loop for runs in blend","childId":"A3113BE8-E56B-4F7D-8119-6927E1FAF71C","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"variableGuid":"99BDA676-C45C-46EE-AF7E-745038CC4D3B","operations":[{"key":"03B754A9-F42F-4952-AA67-06C037E19083","id":"set_value","name":"Set value of { variable }","value":"0"}]},{"id":"DA448959-FA8E-4165-9CDC-CAC885C62FFB","type":"VariableBlock","x":585.0078172683716,"y":1826.354171265848,"disabled":false,"name":"Iteration2","displayName":"Variable - Iteration2","comment":"Sets variable to 1","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"variableGuid":"99BDA676-C45C-46EE-AF7E-745038CC4D3B","operations":[{"key":"05B9DE07-D3FA-467D-8E98-E8A52DC3A1A7","id":"set_value","name":"Set value of { variable }","value":"1"}]},{"id":"634B698B-7DE2-47C2-B193-B0A9E19C8642","type":"IfElseBlock","x":1035,"y":1826,"disabled":false,"name":"condition4","displayName":"Condition 4","comment":"Check if there's an error (error object)","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{$.listFinishedRunsIncrementally.item.erroroutput[0].error}","operator":"notEmpty","input2":null}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"childTrueId":"65056840-38F0-4BBF-990B-F9E4927B6D3D","childFalseId":null},{"id":"1780750B-FBEF-411B-AAD2-9FC18EE59FB9","type":"VariableBlock","x":599,"y":826,"disabled":false,"name":"errorObject","displayName":"Variable - errorObject","comment":"Set error info and jobid associated to the error","childId":"9BF05337-9B6A-4E2E-A005-3E775A6C8D99","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"variableGuid":"169D1A34-590C-4889-950F-45BE5150FB18","operations":[{"key":"42A86569-1B7B-47EF-876F-718BF688CA9D","id":"set_key_value","name":"Set key/values of { variable }","value":[{"key":"error_message","value":"{$.listFinishedRunsIncrementally.item.erroroutput[0].error}"},{"key":"endpoint_name","value":"{$.listFinishedRunsIncrementally.item.erroroutput[0].endpoint.name}"},{"key":"endpoint_datasource","value":"{$.listFinishedRunsIncrementally.item.erroroutput[0].endpoint.datasource}"},{"key":"request_url","value":"{$.listFinishedRunsIncrementally.item.erroroutput[0].request.url}"},{"key":"request_method","value":"{$.listFinishedRunsIncrementally.item.erroroutput[0].request.method}"},{"key":"response_status","value":"{$.listFinishedRunsIncrementally.item.erroroutput[0].response.status}"},{"key":"jobid","value":"{$.listFinishedRunsIncrementally.item.guid}"}]}]},{"id":"9BF05337-9B6A-4E2E-A005-3E775A6C8D99","type":"IfElseBlock","x":572,"y":2558.0000610351562,"disabled":false,"name":"condition5","displayName":"Condition 5","comment":"Check if first iteration (value = 0)","childId":"A1075DCF-8F54-42CE-A823-F8778D479EE4","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{$.Iteration3}","operator":"=","input2":"0"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"childTrueId":"045CC075-99A5-44E5-A87C-F80BB457A4A9","childFalseId":null},{"id":"CE503F2A-E9B7-4FF2-A056-3F5114AB3694","type":"VariableBlock","x":757,"y":1024,"disabled":false,"name":"Iteration3","displayName":"Variable - Iteration3","comment":"Sets variable to 1","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"variableGuid":"4A5F1408-31B9-4604-90E2-113721327E46","operations":[{"key":"49C39511-F7AF-401E-8C4E-0DC6C210D6E8","id":"set_value","name":"Set value of { variable }","value":"1"}]},{"id":"A3113BE8-E56B-4F7D-8119-6927E1FAF71C","type":"VariableBlock","x":95,"y":439,"disabled":false,"name":"Iteration3","displayName":"Variable - Iteration3","comment":"Controls loop for errors in run","childId":"3800C93F-840C-4D78-8F7E-A3099E2BA408","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"variableGuid":"4A5F1408-31B9-4604-90E2-113721327E46","operations":[{"key":"03B754A9-F42F-4952-AA67-06C037E19083","id":"set_value","name":"Set value of { variable }","value":"0"}]},{"id":"7EF34188-ADFB-4342-BE02-6995C18FEF6C","type":"TransformListBlock","x":235,"y":3579,"disabled":false,"name":"transformList2","displayName":"Transform List 2","comment":"Add AccountId to the List Datasource output","childId":null,"inputs":[{"id":"list","value":"{$.listDatasourcesInAccount}","type":"string","structure":[]},{"id":"mapping","value":[{"key":"guid","value":"{$.transformList2.item.guid}"},{"key":"name","value":"{$.transformList2.item.name}"},{"key":"created_by_source","value":"{$.transformList2.item.created_by_source}"},{"key":"connector.guid","value":"{$.transformList2.item.connector.guid}"},{"key":"connector.name","value":"{$.transformList2.item.connector.name}"},{"key":"is_used","value":"{$.transformList2.item.is_used}"},{"key":"is_connected","value":"{$.transformList2.item.is_connected}"},{"key":"created_at","value":"{$.transformList2.item.created_at}"},{"key":"updated_at","value":null},{"key":"accountid","value":"{$.listAccounts.item.guid}"}],"type":"object","mode":"keyValue","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"loopBlockId":"F8C6CCD6-AB97-4AD0-81E6-BF9BBB18B379"},{"id":"CB3D077E-049B-47AC-9F01-75E9C1EFD5F9","type":"TransformListBlock","x":194,"y":908,"disabled":false,"name":"transformList3","displayName":"Transform List 3","comment":"Add Account Id and Name to the List Blends output","childId":"C0B9B61D-5C18-48B7-81F1-8AA06AFDAA5C","inputs":[{"id":"list","value":"{$.listBlendsInAccount}","type":"string","structure":[]},{"id":"mapping","value":[{"key":"guid","value":"{$.transformList3.item.guid}"},{"key":"name","value":"{$.transformList3.item.name}"},{"key":"short_description","value":"{$.transformList3.item.short_description}"},{"key":"description","value":"{$.transformList3.item.description}"},{"key":"type","value":"{$.transformList3.item.type}"},{"key":"status","value":"{$.transformList3.item.status}"},{"key":"state","value":"{$.transformList3.item.state}"},{"key":"run_mode","value":"{$.transformList3.item.run_mode}"},{"key":"has_setup","value":"{$.transformList3.item.has_setup}"},{"key":"setup_complete","value":"{$.transformList3.item.setup_complete}"},{"key":"has_settings","value":"{$.transformList3.item.has_settings}"},{"key":"isbundle","value":"{$.transformList3.item.isbundle}"},{"key":"template_guid","value":"{$.transformList3.item.template_guid}"},{"key":"admin_url","value":"{$.transformList3.item.admin_url}"},{"key":"schedule_start_at","value":"{$.transformList3.item.schedule_start_at}"},{"key":"schedule_stop_at","value":"{$.transformList3.item.schedule_stop_at}"},{"key":"schedule_interval","value":"{$.transformList3.item.schedule_interval}"},{"key":"schedule_timezone","value":"{$.transformList3.item.schedule_timezone}"},{"key":"icon","value":"{$.transformList3.item.icon}"},{"key":"icon2","value":"{$.transformList3.item.icon2}"},{"key":"icon3","value":"{$.transformList3.item.icon3}"},{"key":"created_at","value":"{$.transformList3.item.created_at}"},{"key":"updated_at","value":"{$.transformList3.item.updated_at}"},{"key":"last_run_at","value":"{$.transformList3.item.last_run_at}"},{"key":"accountid","value":"{$.listAccounts.item.guid}"},{"key":"accountname","value":"{$.listAccounts.item.name}"}],"type":"object","mode":"keyValue","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"loopBlockId":"5D3EDDBC-FDD4-4DEA-A174-9713A705A8C1"},{"id":"3800C93F-840C-4D78-8F7E-A3099E2BA408","type":"VariableBlock","x":167,"y":656,"disabled":false,"name":"Iteration4","displayName":"Variable - Iteration4","comment":"Controls loop for DataSources","childId":"99EA6490-AA7B-4438-ACFA-1587D3EE988B","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"variableGuid":"464D3988-E13E-460C-BB2A-3EEFD47C1DBB","operations":[{"key":"03B754A9-F42F-4952-AA67-06C037E19083","id":"set_value","name":"Set value of { variable }","value":"0"}]},{"id":"DABA2C25-3B4E-4082-971B-6EC08CE0B3B2","type":"SnippetBlock","x":59,"y":5015,"disabled":false,"name":"DoReload","displayName":"Qlik Cloud Services - Do Reload","comment":"","childId":"2787D7E0-948D-4979-95C4-BBAF6BD1C236","inputs":[{"id":"29603390-e716-11ea-9e37-05e08ee32111","value":"e80da1dd-97f2-4b42-a5b1-a19297b8a80b","type":"string","structure":[]},{"id":"2ac9eef0-a677-11eb-aacc-8b755d0fe484","value":"Wait for reload to complete","type":"select","displayValue":"Wait for reload to complete","structure":[]},{"id":"6892c0c0-c795-11eb-9860-9dc8cb705e25","value":null,"type":"select","structure":[]},{"id":"ecebf340-c797-11eb-8671-53658babb1a1","value":null,"type":"select","structure":[]}],"settings":[{"id":"datasource","value":null,"type":"select","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","snippet_guid":"b5dbb7a0-e715-11ea-b2bf-43bb35adee19","snippet":{"guid":"b5dbb7a0-e715-11ea-b2bf-43bb35adee19","name":"Do reload","description":"## Reload Qlik Sense app\n### Block Status: Stable\n\nThe **Reload Qlik Sense app** block refreshes the data of the supplied Qlik Sense application reference. Reloads may be triggered to work in sequence, waiting to complete before moving to the next block. Or they may start asynchronously such that the automation continues regardless of the reload action's current status.\n\nUse this block for classic Qlik task chaining or to update data in Qlik Sense applications when incoming change events from other applications occur.\n\nMore information regarding the raw API endpoints used in this block is available [here](https://qlik.dev/apis/rest/reloads)","snippet_datasource_id":null,"snippet_example_output":{"id":"6053000c41cc08fedfd4af4b","log":null,"type":"external","appId":"15aad7f3-828f-4386-aaaa-fb0b432832a2","links":{"self":{"href":"https://xxxx.eu.qlikcloud.com/api/v1/reloads/6053501c41cc08fedfdaaaa"}},"status":"SUCCEEDED","userId":"-Icl2-6nZapJHZDjBl000x3nGuSDCWYF","endTime":"2021-03-18T13:06:26.096Z","duration":"2.181s","tenantId":"U8aCUgzgmdwi000DxsEPreZyvGxZbdq8","startTime":"2021-03-18T13:06:23.914Z","engineTime":"2021-03-18T13:06:25.628Z","creationTime":"2021-03-18T13:05:32.759Z"},"snippet_endpoint_id":null,"role":"get","status":"live","inputs":[{"id":65319,"guid":"29603390-e716-11ea-9e37-05e08ee32111","prompt":"app_id","help_text":"App id to reload","type":"input","values":"","options":{"lookup_endpoint_guid":"2260c0a0-e7d4-11ea-b72a-df80771065cf"},"is_required":true,"order":0},{"id":176013,"guid":"2ac9eef0-a677-11eb-aacc-8b755d0fe484","prompt":"run_mode","help_text":"Default is \"Wait for reload to complete\"","type":"select","values":"Wait for reload to complete,Start reload and continue","options":[],"is_required":false,"order":1},{"id":205168,"guid":"6892c0c0-c795-11eb-9860-9dc8cb705e25","prompt":"timeout","help_text":"Only used when \"Wait for reload to complete\" is selected. Maximum number of seconds to wait before timing out","type":"select","values":"5,10,20,30,60,90,120,180,240,300,600,900,1200,1500,1800,2100,2400,2700,3000,3300,3600,4000,5000,6000,7000,8000,9000,10000,15000,20000,30000,40000","options":[],"is_required":false,"order":2},{"id":205184,"guid":"ecebf340-c797-11eb-8671-53658babb1a1","prompt":"partial","help_text":"Optional, specify if the reload should be partial (Yes) or not (No). Defaults to 'No' if left empty.","type":"select","values":"Yes, No","options":[],"is_required":false,"order":3}],"objecttype":"reloads"}},{"id":"05963F75-2D4D-4993-9BA7-19FA5C96028B","type":"EndpointBlock","x":340,"y":1929,"disabled":false,"name":"listFinishedRunsIncrementally","displayName":"SaaS admin - List Finished Runs Incrementally","comment":"","childId":"32734D1D-1056-4664-9772-36D072BE2D57","inputs":[{"id":"12c6a792-27c0-11ea-921c-022e6b5ea1e2","value":"{$.listAccounts.item.guid}","type":"string","structure":[]},{"id":"12c6a7fe-27c0-11ea-921c-022e6b5ea1e2","value":"{$.transformList3.item.guid}","type":"string","structure":[]}],"settings":[{"id":"datasource","value":null,"type":"select","structure":[]},{"id":"maxitemcount","value":"","type":"string","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"blendr_pointer","value":"yes","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"loopBlockId":"634B698B-7DE2-47C2-B193-B0A9E19C8642","datasourcetype_guid":"0d878726-27c0-11ea-921c-022e6b5ea1e2","endpoint_guid":"0eb13404-27c0-11ea-921c-022e6b5ea1e2","endpoint_role":"listupdated"},{"id":"2787D7E0-948D-4979-95C4-BBAF6BD1C236","type":"IfElseBlock","x":106,"y":4923,"disabled":false,"name":"condition6","displayName":"Condition 6","comment":"If app reload succeeded then list files on Dropbox and delete all","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{$.DoReload.status}","operator":"=","input2":"SUCCEEDED"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"childTrueId":"3930854D-55B6-410D-AA9C-7A1EA5C62433","childFalseId":"8779FDF7-04DF-4A8D-BBB4-84CCF25281C7"},{"id":"51522560-A489-49B1-8BEE-F584E987C2C3","type":"CreateFileBlock","x":100,"y":1059.8148803710938,"disabled":false,"name":"createFile","displayName":"/{$.FolderName}/{$.FileName}_Blends.csv - Create File on Dropbox","comment":"","childId":"5CCF919C-3ADB-4E9E-9BE5-24F3D3267B70","inputs":[{"id":"datasourcetype","value":"Dropbox","type":"select","displayValue":"Dropbox","structure":[]},{"id":"path","value":"/{$.FolderName}/{$.FileName}_Blends.csv","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"datasource","value":null,"type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}]},{"id":"C4D89F05-66A3-4F08-8E5C-CC1632B67D9C","type":"WriteLineToFileBlock","x":460,"y":1841.9999389648438,"disabled":false,"name":"writeLineToFile","displayName":"/{$.FolderName}/{$.FileName}_Blends.csv - Write Line To File on Dropbox","comment":"","childId":"87B06C01-0EEC-4DCB-B6D3-906ACACE7DE3","inputs":[{"id":"file","value":"51522560-A489-49B1-8BEE-F584E987C2C3","type":"select","displayValue":"/{$.FolderName}/{$.FileName}_Blends.csv","structure":[]},{"id":"data","value":"{getkeys: {$.transformList3.item}}","type":"string","structure":[]},{"id":"mode","value":"auto","type":"select","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}]},{"id":"DB68E9B1-B46B-4AFA-AD2D-8BC4E9A41E11","type":"WriteLineToFileBlock","x":340,"y":2137.0000610351562,"disabled":false,"name":"writeLineToFile2","displayName":"/{$.FolderName}/{$.FileName}_Blends.csv - Write Line To File on Dropbox","comment":"","childId":"05963F75-2D4D-4993-9BA7-19FA5C96028B","inputs":[{"id":"file","value":"51522560-A489-49B1-8BEE-F584E987C2C3","type":"select","displayValue":"/{$.FolderName}/{$.FileName}_Blends.csv","structure":[]},{"id":"data","value":"{$.transformList3.item}","type":"string","structure":[]},{"id":"mode","value":"auto","type":"select","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}]},{"id":"27695AC9-C579-4B33-91FD-E8E1352F59B8","type":"CreateFileBlock","x":133,"y":1024.9998779296875,"disabled":false,"name":"createFile2","displayName":"/{$.FolderName}/{$.FileName}_Errors.csv - Create File on Dropbox","comment":"","childId":"EC92E243-3E94-4ED4-BC1C-0CDF18E3CDEF","inputs":[{"id":"datasourcetype","value":"Dropbox","type":"select","displayValue":"Dropbox","structure":[]},{"id":"path","value":"/{$.FolderName}/{$.FileName}_Errors.csv","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"datasource","value":null,"type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}]},{"id":"045CC075-99A5-44E5-A87C-F80BB457A4A9","type":"WriteLineToFileBlock","x":700,"y":2648.0000610351562,"disabled":false,"name":"writeLineToFile3","displayName":"/{$.FolderName}/{$.FileName}_Errors.csv - Write Line To File on Dropbox","comment":"","childId":"CE503F2A-E9B7-4FF2-A056-3F5114AB3694","inputs":[{"id":"file","value":"27695AC9-C579-4B33-91FD-E8E1352F59B8","type":"select","displayValue":"/{$.FolderName}/{$.FileName}_Errors.csv","structure":[]},{"id":"data","value":"{getkeys: {$.errorObject}}","type":"string","structure":[]},{"id":"mode","value":"auto","type":"select","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}]},{"id":"A1075DCF-8F54-42CE-A823-F8778D479EE4","type":"WriteLineToFileBlock","x":580,"y":2942.9999389648438,"disabled":false,"name":"writeLineToFile4","displayName":"/{$.FolderName}/{$.FileName}_Errors.csv - Write Line To File on Dropbox","comment":"","childId":null,"inputs":[{"id":"file","value":"27695AC9-C579-4B33-91FD-E8E1352F59B8","type":"select","displayValue":"/{$.FolderName}/{$.FileName}_Errors.csv","structure":[]},{"id":"data","value":"{$.errorObject}","type":"string","structure":[]},{"id":"mode","value":"auto","type":"select","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}]},{"id":"5CCF919C-3ADB-4E9E-9BE5-24F3D3267B70","type":"CreateFileBlock","x":152,"y":769.9999389648438,"disabled":false,"name":"createFile3","displayName":"/{$.FolderName}/{$.FileName}_Runs.csv - Create File on Dropbox","comment":"","childId":"27695AC9-C579-4B33-91FD-E8E1352F59B8","inputs":[{"id":"datasourcetype","value":"Dropbox","type":"select","displayValue":"Dropbox","structure":[]},{"id":"path","value":"/{$.FolderName}/{$.FileName}_Runs.csv","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"datasource","value":null,"type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}]},{"id":"6A62C91F-61B5-42AE-8190-632501B0AAB1","type":"WriteLineToFileBlock","x":580,"y":3349.9999389648438,"disabled":false,"name":"writeLineToFile5","displayName":"/{$.FolderName}/{$.FileName}_Runs.csv - Write Line To File on Dropbox","comment":"","childId":"DA448959-FA8E-4165-9CDC-CAC885C62FFB","inputs":[{"id":"file","value":"5CCF919C-3ADB-4E9E-9BE5-24F3D3267B70","type":"select","displayValue":"/{$.FolderName}/{$.FileName}_Runs.csv","structure":[]},{"id":"data","value":"{getkeys: {$.transformList.item}}","type":"string","structure":[]},{"id":"mode","value":"auto","type":"select","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}]},{"id":"886CE51A-2EC4-48C7-8E04-8CE3A82338DF","type":"WriteLineToFileBlock","x":460,"y":3644.9999084472656,"disabled":false,"name":"writeLineToFile6","displayName":"/{$.FolderName}/{$.FileName}_Runs.csv - Write Line To File on Dropbox","comment":"","childId":"0960020C-F456-4E77-9D34-34983C85940B","inputs":[{"id":"file","value":"5CCF919C-3ADB-4E9E-9BE5-24F3D3267B70","type":"select","displayValue":"/{$.FolderName}/{$.FileName}_Runs.csv","structure":[]},{"id":"data","value":"{$.transformList.item}","type":"string","structure":[]},{"id":"mode","value":"auto","type":"select","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}]},{"id":"EC92E243-3E94-4ED4-BC1C-0CDF18E3CDEF","type":"CreateFileBlock","x":149,"y":1136.9999694824219,"disabled":false,"name":"createFile4","displayName":"/{$.FolderName}/{$.FileName}_Datasources.csv - Create File on Dropbox","comment":"","childId":"D33711A3-CFCC-46AB-A7E5-46CAB97F485F","inputs":[{"id":"datasourcetype","value":"Dropbox","type":"select","displayValue":"Dropbox","structure":[]},{"id":"path","value":"/{$.FolderName}/{$.FileName}_Datasources.csv","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"datasource","value":null,"type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}]},{"id":"A770CDEC-68F3-46B3-A0BF-A530FC7DC832","type":"WriteLineToFileBlock","x":460,"y":4157.999938964844,"disabled":false,"name":"writeLineToFile7","displayName":"/{$.FolderName}/{$.FileName}_Datasources.csv - Write Line To File on Dropbox","comment":"","childId":"2B170424-1BBE-4EDE-B62E-EE903A618CE7","inputs":[{"id":"file","value":"EC92E243-3E94-4ED4-BC1C-0CDF18E3CDEF","type":"select","displayValue":"/{$.FolderName}/{$.FileName}_Datasources.csv","structure":[]},{"id":"data","value":"{getkeys: {$.transformList2.item}}","type":"string","structure":[]},{"id":"mode","value":"auto","type":"select","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}]},{"id":"8532BFD3-723E-456F-BDC6-C98DDFEC083B","type":"WriteLineToFileBlock","x":340,"y":4453.000152587891,"disabled":false,"name":"writeLineToFile8","displayName":"/{$.FolderName}/{$.FileName}_Datasources.csv - Write Line To File on Dropbox","comment":"","childId":null,"inputs":[{"id":"file","value":"EC92E243-3E94-4ED4-BC1C-0CDF18E3CDEF","type":"select","displayValue":"/{$.FolderName}/{$.FileName}_Datasources.csv","structure":[]},{"id":"data","value":"{$.transformList2.item}","type":"string","structure":[]},{"id":"mode","value":"auto","type":"select","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}]},{"id":"3930854D-55B6-410D-AA9C-7A1EA5C62433","type":"ListFilesBlock","x":334.22222305834293,"y":4944.33352348788,"disabled":false,"name":"listFiles2","displayName":"/{$.FolderName} - List Files on Dropbox","comment":"","childId":"B51108DC-29F4-43B7-9A03-157DF972AE0F","inputs":[{"id":"datasourcetype","value":"Dropbox","type":"select","displayValue":"Dropbox","structure":[]},{"id":"path","value":"/{$.FolderName}","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"datasource","value":null,"type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":true}],"loopBlockId":null},{"id":"A56A238E-021D-4667-8BF5-A5A38AB095FE","type":"DeleteFileBlock","x":832,"y":5945.000061035156,"disabled":false,"name":"deleteFile","displayName":"{$.filterList.item.path} - Delete File on Dropbox","comment":"","childId":null,"inputs":[{"id":"datasourcetype","value":"Dropbox","type":"select","displayValue":"Dropbox","structure":[]},{"id":"path","value":"{$.filterList.item.path}","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"datasource","value":null,"type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}]},{"id":"7B077BB7-43CA-435A-87DC-9B2192900EC3","type":"CloseFileBlock","x":139.6666668280959,"y":4494.111216455698,"disabled":false,"name":"saveAndCloseFile","displayName":"/{$.FolderName}/{$.FileName}_Blends.csv - Save And Close File on Dropbox","comment":"","childId":"B6604403-CE62-45F9-9BDF-19CFB4033841","inputs":[{"id":"file","value":"51522560-A489-49B1-8BEE-F584E987C2C3","type":"select","displayValue":"/{$.FolderName}/{$.FileName}_Blends.csv","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}]},{"id":"B6604403-CE62-45F9-9BDF-19CFB4033841","type":"CloseFileBlock","x":101.66666682809591,"y":4632.444549828768,"disabled":false,"name":"saveAndCloseFile2","displayName":"/{$.FolderName}/{$.FileName}_Runs.csv - Save And Close File on Dropbox","comment":"","childId":"62D8FE01-F612-4688-9FB6-199B10878A87","inputs":[{"id":"file","value":"5CCF919C-3ADB-4E9E-9BE5-24F3D3267B70","type":"select","displayValue":"/{$.FolderName}/{$.FileName}_Runs.csv","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}]},{"id":"62D8FE01-F612-4688-9FB6-199B10878A87","type":"CloseFileBlock","x":107.88888915628195,"y":4756.777557373047,"disabled":false,"name":"saveAndCloseFile3","displayName":"/{$.FolderName}/{$.FileName}_Errors.csv - Save And Close File on Dropbox","comment":"","childId":"65A344DD-902F-4B56-AE55-96F8EB16AA22","inputs":[{"id":"file","value":"27695AC9-C579-4B33-91FD-E8E1352F59B8","type":"select","displayValue":"/{$.FolderName}/{$.FileName}_Errors.csv","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}]},{"id":"65A344DD-902F-4B56-AE55-96F8EB16AA22","type":"CloseFileBlock","x":83.11111155152321,"y":4860.222002066672,"disabled":false,"name":"saveAndCloseFile4","displayName":"/{$.FolderName}/{$.FileName}_Datasources.csv - Save And Close File on Dropbox","comment":"","childId":"15F76800-C33D-4855-9B51-D22B785E418A","inputs":[{"id":"file","value":"EC92E243-3E94-4ED4-BC1C-0CDF18E3CDEF","type":"select","displayValue":"/{$.FolderName}/{$.FileName}_Datasources.csv","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}]},{"id":"65056840-38F0-4BBF-990B-F9E4927B6D3D","type":"VariableBlock","x":623.9930486679077,"y":2273.5557861328125,"disabled":false,"name":"errorObject","displayName":"Variable - errorObject","comment":"Empty variable errorObject","childId":"1780750B-FBEF-411B-AAD2-9FC18EE59FB9","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"variableGuid":"169D1A34-590C-4889-950F-45BE5150FB18","operations":[{"key":"E9A3697E-AC40-479E-972D-8CC21BB552E0","id":"empty","name":"Empty { variable }"}]},{"id":"7917A2D0-C46C-4606-9BA3-091207904363","type":"VariableBlock","x":146.01156616210938,"y":178.03933715820312,"disabled":false,"name":"FileName","displayName":"Variable - FileName","comment":"Set prefix for file names","childId":"C81BD4CB-FEF5-4817-BCF1-D934D5A735CE","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"variableGuid":"124594EF-B040-4ACB-89EC-0777FC12DB15","operations":[{"key":"0E5A093A-E112-4C7E-9B20-A743721A752A","id":"set_value","name":"Set value of { variable }","value":"Monitoring"}]},{"id":"C81BD4CB-FEF5-4817-BCF1-D934D5A735CE","type":"VariableBlock","x":99.01162719726562,"y":288.03932189941406,"disabled":false,"name":"FolderName","displayName":"Variable - FolderName","comment":"Set folder name in Dropbox","childId":"4CB9A31A-A64C-4B86-AD21-94069ED3DA88","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"variableGuid":"A1C5736D-8ABF-4AD1-A4BD-4233AF31BEA3","operations":[{"key":"10A4766A-E0F6-4D7D-ADB2-E8B9F37D95D7","id":"set_value","name":"Set value of { variable }","value":"Blendr"}]},{"id":"99EA6490-AA7B-4438-ACFA-1587D3EE988B","type":"VariableBlock","x":129.12268102169037,"y":893.7431357066962,"disabled":false,"name":"jobcounter","displayName":"Variable - jobcounter","comment":"","childId":"51522560-A489-49B1-8BEE-F584E987C2C3","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"variableGuid":"11067F5A-2FDE-4DC9-B7D8-5CAA05DF0C81","operations":[{"key":"FE494F7F-0DBE-47FF-A650-1DA8735AE612","id":"set_value","name":"Set value of { variable }","value":"0"}]},{"id":"0960020C-F456-4E77-9D34-34983C85940B","type":"VariableBlock","x":454.9930486679077,"y":3950.2294346530107,"disabled":false,"name":"jobcounter","displayName":"Variable - jobcounter","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"variableGuid":"11067F5A-2FDE-4DC9-B7D8-5CAA05DF0C81","operations":[{"key":"7C3D5A6D-DA18-4010-B812-740CC4919605","id":"set_value","name":"Set value of { variable }","value":"1"}]},{"id":"15F76800-C33D-4855-9B51-D22B785E418A","type":"ShowBlock","x":146.01156616210938,"y":5438.372711181641,"disabled":false,"name":"output","displayName":"Output","comment":"","childId":"026B1066-5374-4508-8DD7-2059950C5330","inputs":[{"id":"input","value":"Files created: {$.FileName}_Blends, {$.FileName} _Errors, {$.FileName}_Datasources, {$.FileName}_Runs","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}]},{"id":"8779FDF7-04DF-4A8D-BBB4-84CCF25281C7","type":"ErrorBlock","x":215.01156616210938,"y":6105.632049560547,"disabled":false,"name":"error","displayName":"Error","comment":"","childId":null,"inputs":[{"id":"message","value":"Reload failed","type":"string","structure":[]},{"id":"action","value":"stop","type":"select","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}]},{"id":"0CD7D20F-A03F-4DB4-A6CB-E775F0E88D3C","type":"ShowBlock","x":216.01156616210938,"y":6019.632049560547,"disabled":false,"name":"output2","displayName":"Output 2","comment":"","childId":null,"inputs":[{"id":"input","value":"App {$.DoReload.links.self.href}was reloaded: {$.DoReload.status}and the files were deleted","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}]},{"id":"026B1066-5374-4508-8DD7-2059950C5330","type":"UpdateJobBlock","x":163.01162719726562,"y":5542.262222290039,"disabled":false,"name":"updateJobTitle","displayName":"Update Job Title","comment":"","childId":"DABA2C25-3B4E-4082-971B-6EC08CE0B3B2","inputs":[{"id":"title","value":"{ $.jobcounter } runs added","type":"string","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}]},{"id":"B51108DC-29F4-43B7-9A03-157DF972AE0F","type":"FilterListBlock","x":223,"y":6031.11116027832,"disabled":false,"name":"filterList","displayName":"Filter over Dropbox - List Files on Dropbox - Filter List","comment":"Get files that were created in this run","childId":"0CD7D20F-A03F-4DB4-A6CB-E775F0E88D3C","inputs":[{"id":"list","value":"{$.listFiles2}","type":"string","structure":[]},{"id":"conditions","value":{"mode":"some","conditions":[{"input1":"basename","operator":"contain","input2":"{$.FileName}"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"loopBlockId":"A56A238E-021D-4667-8BF5-A5A38AB095FE"}],"variables":[{"guid":"FEE46D3F-874B-4D75-ADAE-AFA4AB1A3C2F","name":"Iteration","type":"number"},{"guid":"99BDA676-C45C-46EE-AF7E-745038CC4D3B","name":"Iteration2","type":"number"},{"guid":"169D1A34-590C-4889-950F-45BE5150FB18","name":"errorObject","type":"object"},{"guid":"4A5F1408-31B9-4604-90E2-113721327E46","name":"Iteration3","type":"number"},{"guid":"464D3988-E13E-460C-BB2A-3EEFD47C1DBB","name":"Iteration4","type":"number"},{"guid":"124594EF-B040-4ACB-89EC-0777FC12DB15","name":"FileName","type":"string"},{"guid":"A1C5736D-8ABF-4AD1-A4BD-4233AF31BEA3","name":"FolderName","type":"string"},{"guid":"11067F5A-2FDE-4DC9-B7D8-5CAA05DF0C81","name":"jobcounter","type":"number"}]}